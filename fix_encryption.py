#!/usr/bin/env python3
"""
ููู ุฅุตูุงุญ ุงูุชุดููุฑ ุงูุณุฑูุน
ุงุณุชุฎุฏู ูุฐุง ุงูููู ูุญู ูุดููุฉ ุงูููุงุชูุญ
"""

import os
import sys
from cryptography.fernet import Fernet

def main():
    print("="*60)
    print("๐ง ุฅุตูุงุญ ูุดููุฉ ุงูุชุดููุฑ")
    print("="*60)
    
    # ุงูุฎูุงุฑ 1: ุฅูุดุงุก ููุชุงุญ ุฌุฏูุฏ
    print("\n1๏ธโฃ ุฅูุดุงุก ููุชุงุญ ุชุดููุฑ ุฌุฏูุฏ:")
    new_key = Fernet.generate_key()
    new_key_str = new_key.decode('utf-8')
    print(f"\nุงูููุชุงุญ ุงูุฌุฏูุฏ:\n{new_key_str}")
    print(f"\nุงูุทูู: {len(new_key_str)} ุญุฑู")
    
    # ุงูุฎูุงุฑ 2: ุฅุนุงุฏุฉ ุชุนููู ุงูุจูุงูุงุช
    print("\n" + "="*60)
    print("2๏ธโฃ ุชุนูููุงุช ุงูุฅุตูุงุญ:")
    print("="*60)
    
    print("\n๐ ุฎุทูุงุช ุงูุญู:")
    print("1. ุงูุณุฎ ุงูููุชุงุญ ุงูุฌุฏูุฏ ุฃุนูุงู")
    print("2. ุงุฐูุจ ุฅูู Render โ Environment Variables")
    print("3. ุฃุถู ูุชุบูุฑ ุฌุฏูุฏ:")
    print("   - ุงูุงุณู: FERNET_KEY")
    print("   - ุงููููุฉ: ุงูููุชุงุญ ุงูุฌุฏูุฏ")
    print("4. ุงุญูุธ ุงูุชุบููุฑุงุช")
    print("5. ุฃุนุฏ ุชุดุบูู ุงูุจูุช")
    print("\n6. ุจุนุฏ ุฅุนุงุฏุฉ ุงูุชุดุบููุ ุณูุทูุจ ุงูุจูุช ูู ุงููุณุชุฎุฏููู")
    print("   ุฅุนุงุฏุฉ ุฅุฏุฎุงู ูููุงุช ุงููุฑูุฑ ูุฃู ุงูุจูุงูุงุช ุงููุฏููุฉ")
    print("   ูุดูุฑุฉ ุจููุชุงุญ ูุฎุชูู")
    print("="*60)
    
    # ุงุฎุชุจุงุฑ ุงูููุชุงุญ
    print("\nโ ุงุฎุชุจุงุฑ ุงูููุชุงุญ ุงูุฌุฏูุฏ:")
    try:
        fernet = Fernet(new_key)
        test_text = "test_encryption"
        encrypted = fernet.encrypt(test_text.encode())
        decrypted = fernet.decrypt(encrypted).decode()
        
        if test_text == decrypted:
            print("โ ุงูููุชุงุญ ูุนูู ุจุดูู ุตุญูุญ")
        else:
            print("โ ูุดููุฉ ูู ุงุฎุชุจุงุฑ ุงูููุชุงุญ")
    except Exception as e:
        print(f"โ ุฎุทุฃ ูู ุงุฎุชุจุงุฑ ุงูููุชุงุญ: {e}")
    
    print("="*60)
    print("๐ ุชู ุงูุฅูุดุงุก ุจูุฌุงุญ!")
    print("ุงุชุจุน ุงูุชุนูููุงุช ุฃุนูุงู ูุญู ุงููุดููุฉ")

if __name__ == "__main__":
    main()
